{% extends "base.html" %}

{% block title %}Registrar Usuário{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/update_routine.css') }}">
{% endblock %}

{% block content %}
<div class="card-padrao">
    <div class="titulo">
        <p>Cadastrar novo Usuário</p>
    </div>
    {% for routine in routines %}
        <form action="http://localhost:8080/api/routine/update_routine" method="post">
            <input type="hidden" name="id" value="{{ routine.id }}">

            <div class="formulario">
                <div class="form-left">
                    <p>Horário de Início</p>
                    <input type="time" name="begin_time" value="{{ routine.begin_time.strftime('%H:%M') if routine.begin_time else '' }}" required>

                    <p>Litros de Água</p>
                    <input type="number" name="liters_of_water" placeholder="Litros de Água"  step="0.1" min="0" value="{{ routine.liters_of_water }}" required>

                    <p>Local</p>
                    <select name="locale_id" required>
                        {% for locale in locales %}
                        <option value="{{ locale.id }}" 
                                {% if locale.id == routine.locale_id %}selected{% endif %}>
                            {{ locale.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-right">
                    <p>Horário de Fim</p>
                    <input type="time" name="end_time"  value="{{ routine.end_time.strftime('%H:%M') if routine.end_time else '' }}" required>

                    <p>Definir rotina como ativa</p>
                    <select name="ativa" required>
                        <option value="true" {% if routine.ativa %}selected{% endif %}>Sim</option>
                        <option value="false" {% if not routine.ativa %}selected{% endif %}>Não</option>
                    </select>
                </div>
            </div>

            <div class="lower-card">
                <div class="botoes">
                    <button type="submit" class="btn-cadastrar">Atualizar</button>
                </div>
            </div>
        </form>
    {% endfor %}
</div>
{% endblock %}
